<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Home - Divya Samal Care App</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin: 0; background-color: #f0f2f5; }
    header { background-color: #fff; padding: 1rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px #ccc; }
    nav a { margin: 0 1rem; text-decoration: none; color: #e91e63; font-weight: bold; }
    .widget { background: #fff; padding: 1rem; border-radius: 0.5rem; margin: 2rem auto; box-shadow: 0 0 10px #ddd; max-width: 600px; }
    .widget input, .widget button { padding: 0.5rem; margin: 0.5rem 0; width: 100%; }
    .widget button { background: #e91e63; color: white; border: none; border-radius: 5px; cursor: pointer; }
    ul { padding-left: 1.2rem; }
  </style>
</head>
<body>
  <header>
    <h2>Dibbu & Bimu ðŸ’ž Dashboard</h2>
    <nav>
      <a href="index.html">Home</a>
      <a href="journal.html">Journals</a>
      <a href="tickets.html">Support</a>
      <a href="memories.html">Memories</a>
    </nav>
  </header>

  <div class="widget">
    <h3>ðŸ“… Calendar & Reminders</h3>
    <input type="date" id="calendarDate" />
    <input type="text" id="calendarText" placeholder="Event or reminder" />
    <button onclick="addEvent()">Add Reminder</button>
    <ul id="eventList"></ul>
  </div>

  <div class="widget">
    <h3>âœ… To-Do List</h3>
    <input type="text" id="todoText" placeholder="Add a task" />
    <button onclick="addTodo()">Add Task</button>
    <ul id="todoList"></ul>
  </div>

  <script>
    if (Notification.permission !== "granted") Notification.requestPermission();

    const addEvent = () => {
      const date = document.getElementById('calendarDate').value;
      const text = document.getElementById('calendarText').value;
      if (date && text) {
        const events = JSON.parse(localStorage.getItem("events") || "[]");
        events.push({ date, text });
        localStorage.setItem("events", JSON.stringify(events));
        renderEvents();
        new Notification("Reminder added", { body: text });
        document.getElementById('calendarText').value = "";
      }
    };

    const renderEvents = () => {
      const list = document.getElementById('eventList');
      list.innerHTML = "";
      const events = JSON.parse(localStorage.getItem("events") || "[]");
      events.forEach(e => {
        const li = document.createElement('li');
        li.textContent = `${e.date}: ${e.text}`;
        list.appendChild(li);
      });
    };

    const addTodo = () => {
      const text = document.getElementById('todoText').value;
      if (text) {
        const todos = JSON.parse(localStorage.getItem("todos") || "[]");
        todos.push(text);
        localStorage.setItem("todos", JSON.stringify(todos));
        renderTodos();
        new Notification("Task added", { body: text });
        document.getElementById('todoText').value = "";
      }
    };

    const renderTodos = () => {
      const list = document.getElementById('todoList');
      list.innerHTML = "";
      const todos = JSON.parse(localStorage.getItem("todos") || "[]");
      todos.forEach(task => {
        const li = document.createElement('li');
        li.textContent = task;
        list.appendChild(li);
      });
    };

    renderEvents();
    renderTodos();
  </script>
</body>
</html>
