<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Support - Divya Samal Care App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h2>Raise a Ticket ðŸ’Œ</h2>
    <nav>
      <a href="index.html">Home</a>
      <a href="journal.html">Journals</a>
      <a href="memories.html">Memories</a>
    </nav>
  </header>

  <div class="widget">
    <input type="text" id="ticketTitle" placeholder="Issue title" />
    <select id="ticketCategory">
      <option>Travel</option>
      <option>Work</option>
      <option>Take me out on a Date</option>
      <option>Dibbu hungry</option>
      <option>Too much Pada</option>
      <option>Not enough Kisses</option>
      <option>Need pampering</option>
      <option>Need sexy time</option>
      <option>Others</option>
    </select>
    <select id="ticketPriority">
      <option>Low</option>
      <option>Medium</option>
      <option>High</option>
    </select>
    <textarea id="ticketDetails" placeholder="Describe the issue..."></textarea>
    <button onclick="submitTicket()">Submit</button>
    <div id="ticketList"></div>
  </div>

  <script>
    function submitTicket() {
      const title = document.getElementById('ticketTitle').value;
      const cat = document.getElementById('ticketCategory').value;
      const pri = document.getElementById('ticketPriority').value;
      const details = document.getElementById('ticketDetails').value;
      if (title && details) {
        const tickets = JSON.parse(localStorage.getItem("tickets") || "[]");
        tickets.push({ title, cat, pri, details, date: new Date().toLocaleString() });
        localStorage.setItem("tickets", JSON.stringify(tickets));
        renderTickets();
      }
    }

    function renderTickets() {
      const list = document.getElementById('ticketList');
      list.innerHTML = "";
      const tickets = JSON.parse(localStorage.getItem("tickets") || "[]");
      tickets.forEach(t => {
        const div = document.createElement('div');
        div.innerHTML = `<strong>${t.title}</strong> [${t.cat}] (${t.pri})<br>${t.details}<br><small>${t.date}</small><hr>`;
        list.appendChild(div);
      });
    }

    renderTickets();
  </script>
</body>
</html>
